import e,{useState as t,useRef as r,useEffect as o}from"react";import n from"prop-types";!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}("@keyframes display{0%{opacity:0}to{opacity:1}}.open{display:block}.close{display:none}.error{align-items:center;animation-duration:.7s;animation-fill-mode:both;animation-name:display;background-color:#fff;border-radius:10px;box-shadow:0 5px 20px #00000047;color:#aa1919;display:flex;font-size:.65rem;justify-content:space-between;margin-top:5px;padding:8px 15px}.x-button-home{background:#fff;border:none;border-radius:50%;cursor:pointer;padding:0}.day,.dayW,.daysW,.days_container{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:flex;flex-wrap:wrap;position:relative}.daysW{height:30px;width:100%}.daysW--red{border-bottom:1px solid #9b2b2b}.daysW--green{border-bottom:1px solid #164e22}.daysW--purple{border-bottom:1px solid #441c64}.daysW--yellow{border-bottom:1px solid #865413}.daysW--blue{border-bottom:1px solid #2b489b}.daysW--neutral{border-bottom:1px solid #000}.dayW{color:#666;font-size:9px;font-weight:700;height:30px;justify-content:center;line-height:30px;width:14.285%}.days_container{height:100%;margin-top:3px;width:100%}.day{align-items:center;display:flex;font-size:.7rem;font-weight:400;justify-content:center;min-width:26px;padding:3px 4px;transition:.3s ease-in-out}.day,.day:hover{border:1px solid transparent}.day:hover{box-shadow:2px 4px 4px rgba(24,20,58,.5);cursor:pointer;z-index:1}.day_in--red{color:#9b2b2b}.day_in--green{color:#164e22}.day_in--purple{color:#441c64}.day_in--yellow{color:#865413}.day_in--blue{color:#2b489b}.day_in--neutral{color:#000}.currentDay--red:hover,.day_in--red:hover{background-color:#dab1b170;color:#9b2b2b}.currentDay--green:hover,.day_in--green:hover{background-color:#b1dab770;color:#164e22}.currentDay--purple:hover,.day_in--purple:hover{background-color:#d5b1da70;color:#441c64}.currentDay--yellow:hover,.day_in--yellow:hover{background-color:#eee1a570;color:#865413}.currentDay--blue:hover,.day_in--blue:hover{background-color:#b1bbda70;color:#2b489b}.currentDay--neutral:hover,.day_in--neutral:hover{background-color:#c9c9c970;color:#000}.day_out{background:transparent!important;color:#ddd;pointer-events:none}.day_out--red{color:#9b2b2b60}.day_out--green{color:#164e2260}.day_out--purple{color:#441c6460}.day_out--yellow{color:#86541360}.day_out--blue{color:#2b489b60}.day_out--neutral{color:#00000060}.currentDay--red{border:1px solid #9b2b2b;color:#9b2b2b}.currentDay--green{border:1px solid #164e22;color:#164e22}.currentDay--purple{border:1px solid #441c64;color:#441c64}.currentDay--yellow{border:1px solid #865413;color:#865413}.currentDay--blue{border:1px solid #2b489b;color:#2b489b}.currentDay--neutral{border:1px solid #000;color:#000}.day_selected--red{background-color:#9b2b2b;color:#fff}.day_selected--green{background-color:#164e22;color:#fff}.day_selected--purple{background-color:#441c64;color:#fff}.day_selected--yellow{background-color:#865413;color:#fff}.day_selected--blue{background-color:#2b489b;color:#fff}.day_selected--neutral{background-color:#000;color:#fff}.sund_highli--blue,.sund_highli--neutral,.sund_highli--purple,.sund_highli--red,.sund_highli--yellow{background-color:rgba(88,209,138,.151);color:#162b16}.sund_highli--green{background-color:rgba(209,147,88,.151);color:#4b2d06}.calendar{background:#fff;border-radius:10px;box-shadow:10px 10px 40px #00000047;min-height:220px;padding:15px;width:200px}.calendar_body{float:left;width:100%}.calendar_YM_container{align-items:center;display:flex;font-size:.65rem;font-weight:700;justify-content:space-between;width:100%}.buttons_container{align-items:center;background:transparent;border:none;box-sizing:border-box;cursor:pointer;display:flex;float:left;justify-content:center;margin:0;padding:0}.buttons_container--red_year{background-color:#dab1b170}.buttons_container--green_year{background-color:#b1dab770}.buttons_container--purple_year{background-color:#d5b1da70}.buttons_container--yellow_year{background-color:#eee1a570}.buttons_container--blue_year{background-color:#b1bbda70}.buttons_container--neutral_year{background-color:#c9c9c970}.arrows_container{display:flex;justify-content:center;padding:2px}.arrows--red{stroke:#9b2b2b}.arrows--green{stroke:#164e22}.arrows--purple{stroke:#441c64}.arrows--yellow{stroke:#865413}.arrows--blue{stroke:#2b489b}.arrows--neutral{stroke:#000}.home{background:transparent;border:none;cursor:pointer}.home-xcircle--red{stroke:#9b2b2b}.home-xcircle--green{stroke:#164e22}.home-xcircle--purple{stroke:#441c64}.home-xcircle--yellow{stroke:#865413}.home-xcircle--blue{stroke:#2b489b}.home-xcircle--neutral{stroke:#000}.year-month_container{display:flex;justify-content:center;position:relative;width:100%}.year_container{bottom:2.3px;font-size:.9rem;margin:0 3px 0 0}.year-display{cursor:pointer;left:2px;position:relative;top:5px}.year-month_container--red{color:#9b2b2b}.year-month_container--green{color:#164e22}.year-month_container--purple{color:#441c64}.year-month_container--yellow{color:#865413}.year-month_container--blue{color:#2b489b}.year-month_container--neutral{color:#000}.year-input{border:none;font-size:.8rem;font-weight:700;transition:.3s;width:100%}.year-input:focus{box-shadow:0 0 2px rgba(24,20,58,.9);outline:none}.year-input--red:focus{color:#9b2b2b}.year-input--green:focus{color:#164e22}.year-input--purple:focus{color:#441c64}.year-input--yellow:focus{color:#865413}.year-input--blue:focus{color:#2b489b}.year-input--neutral:focus{color:#000}");const a=({size:t=16,myClassName:r})=>e.createElement("svg",{className:`${r}`,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M15 18l-6-6 6-6"})),l=({size:t=16,myClassName:r})=>e.createElement("svg",{className:`${r}`,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M9 18l6-6-6-6"})),s=({size:t=16,myClassName:r})=>e.createElement("svg",{className:`${r}`,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M11 17l-5-5 5-5M18 17l-5-5 5-5"})),i=({size:t=16,myClassName:r})=>e.createElement("svg",{className:`${r}`,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M13 17l5-5-5-5M6 17l5-5-5-5"})),c=({size:t=16,myClassName:r})=>e.createElement("svg",{className:`${r}`,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),d=({size:t=16,myClassName:r})=>e.createElement("svg",{className:`${r}`,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("circle",{cx:"12",cy:"12",r:"10"}),e.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}));let u=Date.now()-Date.now()%864e5+1e3*(new Date).getTimezoneOffset()*60;const p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=[{lang:"en",days:["January","February","March","April","May","June","July","August","September","October","November","December"]},{lang:"fr",days:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septempbre","Octobre","Novembre","Decembre"]},{lang:"spa",days:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},{lang:"por",days:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},{lang:"ger",days:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]}],y=[{lang:"en",days:["SUN","MON","TUE","WED","THU","FRI","SAT"]},{lang:"fr",days:["DIM","LUN","MAR","MER","JEU","VEN","SAM"]},{lang:"spa",days:["DOM","LUN","MAR","MIE","JUE","VIE","SAB"]},{lang:"por",days:["DOM","SEG","TER","QUA","QUI","SEXT","SAB"]},{lang:"ger",days:["SON","MON","DIEN","MITT","DON","FRE","SAM"]}],b=(e,t)=>1===t?e%4==0?29:28:[3,5,8,10].includes(t)?30:31,h=e=>{let t=e.index-e.firstDayMonth,r=e.index%7,o=e.month-1,n=e.year;o<0&&(o=11,n--);let a=b(n,o),l=(t<0?a+t:t%e.numberOfDays)+1;return{date:l,day:r,dayStatus:t<0?-1:t>=e.numberOfDays?1:0,currentMonth:new Date(e.year,e.month).getMonth()+1,timestamp:new Date(e.year,e.month,l).getTime(),dayString:p[r]}},g=(e,t)=>{let r=new Date(e,t).getDay(),o=b(e,t),n=[],a=null,l=0;for(let s=0;s<7;s++)for(let s=0;s<6;s++)a=h({index:l,numberOfDays:o,firstDayMonth:r,year:e,month:t}),n.push(a),l++;return n},f=(e,t)=>{if(null!=e&&""!==e){let r="1"===t||"2"===t?2===e.split("/")[0].length?e.split("/")[0]:e.split("/")[2]:2===e.split("/")[1].length&&e.split("/")[1];r="0"===r.split("")[0]?r.split("")[1]:r;let o="1"===t||"2"===t?e.split("/")[1]<="12"?e.split("/")[1]:"12":e.split("/")[0]<="12"?e.split("/")[0]:"12";return o="0"===o.split("")[0]?o.split("")[1]:o,{currentDate:r,currentMonth:o,currentYear:4===e.split("/")[0].length?e.split("/")[0]>="1000"?e.split("/")[0]:"1000":e.split("/")[2]>="1000"?e.split("/")[2]:"1000"}}return null},w=({onChangeInputValue:n,myInputRef:p,mode:b,language:h,valueCustom:w,areDaysOutOfMonthAllowed:x,areSundaysAllowed:_,areSundaysHighlighted:v})=>{let k=new Date;const[D,E]=t(k.getFullYear()),[N,M]=t(k.getMonth()),[$,C]=t(g(D,N)),[S,A]=t({timestamp:u,dayStatus:0,currentMonth:null}),[z,O]=t(!1),[W,I]=t(!0);t(!1),t();const[T,J]=t(),L=r(null);o((()=>{C(g(D,N))}),[D,N]),o((()=>{let e=((e,t,r)=>{let o=new Date(e.timestamp),n=o.getMonth()+1,a=o.getDate();if(-1===e.dayStatus){let t=e.currentMonth,r=e.currentDate;n!==t?(n-=2,a!==r&&(a=r)):1===n?n=12:n-=1}1===e.dayStatus&&(n!==e.currentMonth?n+=2:12===n?n=1:n+=1);return((e,t,r,o,n)=>{switch(o){case"1":return(t<10?"0"+t:t)+"/"+(e<10?"0"+e:e)+"/"+r;case"2":return r+"/"+(e<10?"0"+e:e)+"/"+(t<10?"0"+t:t);case"3":return(e<10?"0"+e:e)+"/"+(t<10?"0"+t:t)+"/"+r;default:return}})(n,a,o.getFullYear(),t)})(S,w);if(null!==p&&""!==p)if(null!==p.current)if(void 0!==p.current.value||null!==p.current.value||""!==p.current.value){p.current.value=e;const{currentDate:t,currentMonth:r,currentYear:o}=null!==f(e,w)&&f(e,w),n=new Date(o,r-1,t).getTime();J(n),1===S.dayStatus?(M(N+1),11===N&&(M(0),E(D+1))):-1===S.dayStatus&&(M(N-1),0===N&&(M(11),E(D-1)))}else console.log("there is no value yet");else console.log("Error! The calendar is linked to an input but they are not a valid input");else console.log("Error! The calendar is not linked to any input")}),[S]),o((()=>{z&&L.current.focus()}),[z]),o((()=>{if(null!==n){const{currentDate:e,currentMonth:t,currentYear:r}=null!==f(n,w)&&f(n,w);let o=void 0!==t&&t-1;-1===o&&(o=11),M(parseInt(o,10)),E(parseInt(r,10));let a=new Date(r,t-1,e).getTime();J(a),A({timestamp:a,dayStatus:0,currentMonth:t-1,currentDate:e})}}),[n]);const P=e=>{null!==p?A({timestamp:e.timestamp,dayStatus:e.dayStatus,currentMonth:e.currentMonth,currentDate:e.date}):console.log("there is no input linked with the calendar component")};return e.createElement("div",null,e.createElement("div",{className:"calendar"},e.createElement("div",null,e.createElement("div",{className:"calendar_YM_container",onClick:e=>{e.preventDefault(),e.stopPropagation(),A({timestamp:u,dayStatus:0,currentMonth:null}),E(k.getFullYear()),M(k.getMonth())},onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),A({timestamp:u,dayStatus:0,currentMonth:null}),E(k.getFullYear()),M(k.getMonth()))}},e.createElement("button",{className:"x-button-home"},e.createElement(c,{myClassName:`home-xcircle--${b} home-xcircle--${b}--custom`})),e.createElement("button",{className:`buttons_container buttons_container--${b}_year buttons_container--${b}_year--custom`,onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),E(D-1))}},e.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),E(D-1)}},e.createElement("span",{className:"arrows_container"},e.createElement(s,{myClassName:`arrows--${b} arrows--${b}--custom`})))),e.createElement("button",{className:"buttons_container",onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),M(N-1),0===N&&M(11))}},e.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),M(N-1),0===N&&M(11)}},e.createElement("span",{className:"arrows_container"},e.createElement(a,{myClassName:`arrows--${b} arrows--${b}--custom`})))),e.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"14%"}},e.createElement("span",{className:`year-month_container year_container year-month_container--${b} year-month_container--${b}--custom`},e.createElement("span",{className:""+(z?"close year-display ":"open year-display"),onClick:e=>(e=>{e.stopPropagation(),!z&&O(!0)})(e),onKeyDown:e=>{13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),!z&&O(!0))},tabIndex:0},D),e.createElement("label",{className:""+(z?"open":"close"),style:{width:"100%"},onKeyDown:e=>{if(13===e.keyCode&&document.activeElement===L.current){e.stopPropagation(),e.preventDefault();let t=L.current.value;""===t||void 0===t||t.length<4?(E(parseInt(D)),I(!1)):(E(parseInt(t,10)),I(!0)),O(!1)}}},e.createElement("input",{className:`year-input year-input--${b} year-input--${b}--custom`,ref:L,type:"text",name:"year",minLength:4,maxLength:4,onBlur:()=>O(!1)}))),e.createElement("span",{className:`year-month_container year-month_container--${b} year-month_container--${b}--custom`},((e,t)=>{for(let r=0;r<m.length;r++)if(m[r].lang===t){let t=m[r].days;for(let r=0;r<t.length;r++)if(e===t.indexOf(t[r]))return t[r]}})(N,h))),e.createElement("button",{className:"buttons_container",onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),M(N+1),11===N&&M(0))}},e.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),M(N+1),11===N&&M(0)}},e.createElement("span",{className:"arrows_container"},e.createElement(l,{myClassName:`arrows--${b} arrows--${b}--custom`})))),e.createElement("button",{className:`buttons_container buttons_container--${b}_year buttons_container--${b}_year--custom`,onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),E(D+1))}},e.createElement("div",{onClick:e=>{e.preventDefault(),e.stopPropagation(),E(D+1)}},e.createElement("span",{className:"arrows_container"},e.createElement(i,{myClassName:`arrows--${b} arrows--${b}--custom`})))))),e.createElement("div",{className:"calendar_body"},(()=>{let t=$.map(((t,r)=>e.createElement("div",{key:r,style:{height:"25px"}},e.createElement("div",{style:{margin:"1.2px"}},e.createElement("span",{className:"day "+(0!==t.dayStatus?(x?0===t.day?_?v?`sund_highli--${b} sund_highli--${b}--custom`:`day_out--${b} day_out--${b}--custom`:"day_out":`day_out--${b} day_out--${b}--custom`:"day_out")+" ":0===t.day?_?t.timestamp===u?t.timestamp===T?`day_selected--${b} day_selected--${b}--custom`:`currentDay--${b} currentDay--${b}--custom`:t.timestamp===T?`day_selected--${b} day_selected--${b}--custom`:v?`sund_highli--${b} sund_highli--${b}--custom`:`day_in--${b} day_in--${b}--custom`:"day_out":t.timestamp===u?t.timestamp===T?`day_selected--${b} day_selected--${b}--custom`:`currentDay--${b} currentDay--${b}--custom`:t.timestamp===T?`day_selected--${b} day_selected--${b}--custom`:`day_in--${b} day_in--${b}--custom`),tabIndex:0,onClick:e=>{P(t)},onKeyDown:e=>{13===e.keyCode&&P(t)}},t.date)))));return e.createElement("div",{style:{height:"23px"}},e.createElement("div",{className:`daysW daysW--${b}`},y.map((t=>t.lang===h&&t.days.map(((t,r)=>e.createElement("div",{className:"dayW",key:r},t)))))),e.createElement("div",{className:"days_container"},t))})())),e.createElement("div",{className:""+(W?"close":"open error")},"[!] You must enter at least 4 digits!"," ",e.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),I(!0)},className:"x-button-home",onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),I(!0))}},e.createElement(d,{myClassName:`home-xcircle--${b} home-xcircle--${b}--custom`}))))};w.propTypes={onChangeInputValue:n.string,myInputRef:n.object,mode:n.string,language:n.string,valueCustom:n.string,areDaysOutOfMonthAllowed:n.bool,areSundaysAllowed:n.bool,areSundaysHighlighted:n.bool},w.defaultProps={onChangeInputValue:null,myInputRef:null,mode:"neutral",language:"en",valueCustom:"1",areDaysOutOfMonthAllowed:!1,areSundaysAllowed:!0,areSundaysHighlighted:!1};export{w as DatePicker};
